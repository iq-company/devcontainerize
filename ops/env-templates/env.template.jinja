# This is a template for the environment file.
# It combines settings for Docker Compose parsing and for the container runtime.
# Placeholders like {{random_lower}} are replaced by init_env_files script.

# --- Docker Image & Project Settings (for host machine) ---
IQ_IMAGE={{ image_prefix }}-dev
IQ_IMAGE_TAG=latest
COMPOSE_PROJECT_NAME={{random_lower}}_{{ app_name }}_dev
VSCODE_SETTINGS_PATH={{vscode_settings_path}}

# --- Host User IDs (for container permissions) ---
HOST_UID={{uid}}
HOST_GID={{gid}}

# --- Frappe Site and Database Details ---
IQ_SITE_NAME={{ site_name }}
IQ_ADMIN_PW={{random_password}}

# --- Database Settings ---

DBMS={{dbms}}

# Super-user for DDL operations (but not root).
# Used when the 'with-ddl' profile is active.
DB_SUPER_USER={{db_super_user}}
DB_SUPER_USER_PW={{db_super_user_pw}}

# The root password for the main database user.
DB_ROOT_PASSWORD={{db_root_password}}

# The database user for the Frappe application itself.
# Can be empty if 'with-ddl' is used, the container will then use the super-user.
DB_USER={{ app_name }}_user
DB_PASSWORD={{db_password}}

# The name of the database.
DB_NAME={{ app_name }}_db

# --- Docker Compose Generic DB Settings (interpolated by script) ---
DB_HOST={{db_host}}
DB_PORT={{db_port}}

# --- Redis and SocketIO Settings ---
REDIS_CACHE=redis-cache:6379
REDIS_QUEUE=redis-queue:6379
SOCKETIO_PORT=9000

# --- General Settings ---
SHELL=/bin/bash
LOCAL_DEV_ENV=true
CLIENT_MAX_BODY_SIZE=50m
FRAPPE_STREAM_LOGGING=1

# --- Optional Addons ---
# To enable optional services like OCR or DDL, set their profile names here (e.g., COMPOSE_PROFILES=ocr,ddl)
COMPOSE_PROFILES=ddl

# --- Exposed Ports (can be changed to avoid conflicts) ---
WEBDB_PORT=22071
NGINX_PORT=8010
